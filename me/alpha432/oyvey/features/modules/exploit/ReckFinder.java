//Deobfuscated with https://github.com/SimplyProgrammer/Minecraft-Deobfuscator3000 using mappings "C:\Program Files\Minecraft Deobfuscator\Mappings\1.12.2"!

//Decompiled by Procyon!

package me.alpha432.oyvey.features.modules.exploit;

import me.alpha432.oyvey.features.modules.*;
import net.minecraft.entity.player.*;
import net.minecraft.tileentity.*;
import net.minecraft.init.*;
import net.minecraft.world.*;
import java.util.*;
import net.minecraft.item.*;
import java.io.*;

public class ReckFinder extends Module
{
    public ReckFinder() {
        super("ReckFinder", "Pig Exploit", Category.EXPLOIT, true, false, false);
    }
    
    @Override
    public void onUpdate() {
        if (ReckFinder.mc.world.isRemote) {
            return;
        }
        final World world = (World)ReckFinder.mc.world;
        if (!world.playerEntities.isEmpty()) {
            final EntityPlayer player = world.playerEntities.get(0);
            for (final TileEntity tile : world.loadedTileEntityList) {
                if (tile instanceof TileEntityLockableLoot) {
                    int beetroot = 0;
                    int flesh = 0;
                    int gold = 0;
                    int saddle = 0;
                    final TileEntityLockableLoot lockable = (TileEntityLockableLoot)tile;
                    if (lockable.getLootTable() != null) {
                        lockable.fillWithLoot(player);
                        for (int i = 0; i < lockable.getSizeInventory(); ++i) {
                            final ItemStack stack = lockable.getStackInSlot(i);
                            if (stack.getItem() == Items.BEETROOT_SEEDS) {
                                ++beetroot;
                            }
                            if (stack.getItem() == Items.ROTTEN_FLESH) {
                                ++flesh;
                            }
                            if (stack.getItem() == Items.GOLD_INGOT) {
                                ++gold;
                            }
                            if (stack.getItem() == Items.SADDLE) {
                                ++saddle;
                            }
                        }
                    }
                    if (gold < 4 || flesh < 8 || beetroot < 2 || saddle < 1) {
                        continue;
                    }
                    writeToFile("Chest Resolved At: " + lockable.getPos().getX() + " " + lockable.getPos().getY() + " " + lockable.getPos().getZ());
                }
            }
        }
    }
    
    protected static void writeToFile(final String coords) {
        try (final FileWriter fw = new FileWriter("Exploit.txt", true);
             final BufferedWriter bw = new BufferedWriter(fw);
             final PrintWriter out = new PrintWriter(bw)) {
            out.println(coords);
        }
        catch (IOException ex) {}
    }
}
